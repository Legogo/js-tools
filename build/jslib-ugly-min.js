function extend(a,b,c,d){a.prototype=b,b.apply(c,d)}function Debug(){}var ie=function(){for(var a,b=3,c=document.createElement("div"),d=c.getElementsByTagName("i");c.innerHTML="<!--[if gt IE "+ ++b+"]><i></i><![endif]-->",d[0];);return b>4?b:a}(),DEBUG;Debug.checkForDiv=function(){void 0==DEBUG&&(DEBUG=$("#debug"),void 0==DEBUG&&$("body").append("<div id='debug' style='z-index:10000;width:300px;'></div>"),DEBUG=$("#debug"))},Debug.update=function(a){Debug.checkForDiv(),DEBUG.html(a)},Debug.append=function(a,b){void 0==b&&(b=0),Debug.checkForDiv();var c=DEBUG.html();if(c+="<br>"+a,b>0){var d=c.split("<br>");b=Math.min(b,d.length),d=d.slice(d.length-b,d.length),c="";for(var e=0;e<d.length;e++)d[e].length>0&&(c+="<br>"+d[e])}DEBUG.html(c)},Debug.setup=function(){Debug.setVisibility(Debug.isLocalhost()),Input.assignKey(32,function(){$("#debug").toggle()})},Debug.setVisibility=function(a){a?$("#debug").show():$("#debug").hide()},Debug.isLocalhost=function(){var a=Web.getUrl();return a.indexOf("localhost")>-1?!0:a.indexOf("file:///")>-1?!0:a.indexOf("Users/")>-1},Display=function(){},Display.fixPNGs=function(){if(9>ie){var a;for(a in document.images)if(document.images[a].src){var b=document.images[a].src;".png"!==b.substr(b.length-4)&&".PNG"!==b.substr(b.length-4)||(document.images[a].style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled='true',sizingMethod='crop',src='"+b+"')")}}},Display.onResize=function(a,b){var c={x:0,y:0},d=0,e=-1;window.onresize=function(f){e>-1||(e=setInterval(function(){var b=Resolution.getInnerViewportSize();c.x==b.x&&c.y==b.y||(c=b,d=3),d>0&&(d--,0>=d&&(clearInterval(e),e=-1,a()))},b))}},Input=function(){},Input.assignKey=function(a,b){document.onkeypress=function(c){var c=window.event||c;c.charCode==a&&void 0!=b&&b()}},Input.click=function(a,b){a.bind("click touchstart",b)},Input.unClick=function(a){a.unbind("click touchstart")},Loading=function(){this.idx=0},Loading.loadScript=function(a,b){return void 0==a?void(void 0!=b&&b()):void $.getScript(a,b)},Loading.loadScripts=function(a,b,c){return this.idx>=b.length?void c():void this.loadScript(b[a],function(){this.loadScripts(this.idx+1,b,c)})},Log=function(){},Log.log=function(a){window.console||(window.console={log:function(){}});try{console.log(a)}catch(b){logWarning("LOG : "+a)}},Log.console=function(a,b){null==b&&(b="debug-normal"),$("<p class='debug-line' id='"+b+"'>"+a+"</p>").prependTo("#console")},Log.body=function(a){$('<div style="font-size:2em;font-weight:bold">'+a+"</div>").prependTo("body")},Log.alert=function(a){alert("WARNING<br/>"+a)},Log.warning=function(a){console.warn&&console.warn("[WARNING] :: "+a),logConsole(a,"debug-warning")},MathTools=function(){},MathTools.addMissingZeros=function(a){return 10>a?"0"+a:a},MathTools.sign=function(a){return 0>a?-1:a>0?1:0},MathTools.roundTo=function(a,b){return a=Math.floor(a*b),a/=b},MathTools.lerp=function(a,b,c){return a+c*(b-a)},MathTools.inverselerp=function(a,b,c){return(c-a)/(b-a)},MathTools.isNumeric=function(){return!isNaN(parseFloat(n))&&isFinite(n)},Mobile=function(){},Mobile.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},Mobile.isTouchDevice=function(){try{return document.createEvent("TouchEvent"),!0}catch(a){return!1}return!1},Resolution=function(){this.SCREEN_REF_DIMENSIONS={vh:{fhd:{width:1080,height:1920},hd:{width:720,height:1280},med:{width:576,height:1024},low:{width:360,height:640}},hv:{fhd:{width:1920,height:1080},hd:{width:1280,height:720},med:{width:1024,height:576},low:{width:640,height:360}}}},Resolution.getScreenResolution=function(){return screen.width+" x "+screen.height},Resolution.getViewportDimensions=function(){return this.getInnerViewportSize()},Resolution.getViewportDimensionsCinema=function(){return resolution_getViewportClampedByRatio(9/16)},Resolution.getViewportClampedByRatio=function(a){var b=Resolution.getViewportDimensions();return b.y=b.x*a,b},Resolution.getScreenDimensionsByRatio=function(a,b){var c=Resolution.getViewportDimensions(),d=a/b,e=c.x/c.y,f={x:0,y:0};return d>e?(f.x=c.x,f.y=c.x/d):(f.y=c.y,f.x=c.y*d),f},Resolution.getClampedDimensions=function(){var a=Resolution.getViewportDimensions(),b=a.x>=a.y?SCREEN_REF_DIMENSIONS.hv:SCREEN_REF_DIMENSIONS.vh,c=a.x>=a.y;for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];if(c){if(a.x>=e.width)return e}else if(a.y>=e.height)return e}return null},Resolution.getViewportSize=function(){var a,b;return"undefined"!=typeof window.innerWidth?(a=window.innerWidth,b=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(a=document.documentElement.clientWidth,b=document.documentElement.clientHeight):(a=document.getElementsByTagName("body")[0].clientWidth,b=document.getElementsByTagName("body")[0].clientHeight),{x:a,y:b}},Resolution.getInnerViewportSize=function(){var a,b;return"BackCompat"===document.compatMode?(a=document.body.clientHeight,b=document.body.clientWidth):(a=document.documentElement.clientHeight,b=document.documentElement.clientWidth),{x:b,y:a}},Scroll=function(){this.scrollDiv="#scroll",this.onScrollCallback=null,this.touchStart={x:0,y:0},this.touchSolvingDir=!1,this.touchPrevious={x:0,y:0},this.touchDelta={x:0,y:0},this.touchIntervalId=-1,this.touchCooldown=0,this.touchCooldownTarget=3,this.touchMobile=!1};var SCROLL=new Scroll;Scroll.setup=function(a){SCROLL.onScrollCallback=a,SCROLL.touchMobile=Mobile.isMobile(),Mobile.isMobile()?Scroll.bind_scroll_mobile():Scroll.bind_scroll()},Scroll.allowToScroll=function(a){var b=a.toString(),c=!1;return b.indexOf("HtmlElement")>-1?!1:!c&&$(a).hasClass("noScroll")?!1:!c},Scroll.preventScrollingEvent=function(a){return Scroll.allowToScroll(a)?!!$(a).hasClass("scrollPrevent"):!0},Scroll.bind_scroll_mobile=function(){document.ontouchstart=function(a){Debug.append(a.target,20),Scroll.allowToScroll(a.target)&&(Scroll.preventScrollingEvent(a.target)&&a.preventDefault(),Scroll.touchStart=Scroll.extractEventPosition(a))},document.ontouchend=function(a){Scroll.allowToScroll(a.target)&&(Scroll.preventScrollingEvent(a.target)&&a.preventDefault(),Scroll.touchPrevious.x=Scroll.touchPrevious.y=0)},document.ontouchmove=function(a){if(Scroll.allowToScroll(a.target)){Scroll.preventScrollingEvent(a.target)&&a.preventDefault();var b=Scroll.extractEventPosition(a);return 0==SCROLL.touchPrevious.x&&0==SCROLL.touchPrevious.y&&(SCROLL.touchPrevious.x=SCROLL.touchStart.x,SCROLL.touchPrevious.y=SCROLL.touchStart.y),SCROLL.touchDelta.x=b.x-SCROLL.touchPrevious.x,SCROLL.touchDelta.y=b.y-SCROLL.touchPrevious.y,SCROLL.touchPrevious.x=b.x,SCROLL.touchPrevious.y=b.y,SCROLL.touchMobile&&Math.abs(SCROLL.touchDelta.y)>50&&(SCROLL.touchDelta.y=0),SCROLL.touchCooldown>0?void SCROLL.touchCooldown--:void(0!=SCROLL.touchDelta.y&&void 0!=SCROLL.onScrollCallback&&(SCROLL.touchMobile&&(SCROLL.touchCooldown=SCROLL.touchCooldownTarget),SCROLL.onScrollCallback(SCROLL.touchDelta.y)))}}},Scroll.extractEventPosition=function(a){return{x:a.targetTouches[0].pageX,y:a.targetTouches[0].pageY}},Scroll.bind_scroll=function(){var a=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";document.attachEvent?document.attachEvent("on"+a,Scroll.onWheel):document.addEventListener&&document.addEventListener(a,Scroll.onWheel,!1)},Scroll.bind_scroll_usingDiv=function(){$(this.scrollDiv).bind("scroll",function(a){$t=$(a.target),event_scroll()})},Scroll.onWheel=function(a){var b=window.event||a,c=b.detail?-120*b.detail:b.wheelDelta;SCROLL.onScrollCallback(c)},Scroll.frameToScroll=function(a){var b=a,c=$(scrollDiv),d=c.get(0).scrollHeight-Scroll.getScreenHeight();return Math.floor(b*d)},Scroll.event_scroll=function(){var a=getScrollCurrentFrame();a=roundTo(a,100),SCROLL.onScrollCallback(a)},Scroll.getScrollCurrent=function(){var a=$(scrollDiv),b=a.scrollTop();return b},Scroll.getScrollCurrentFrame=function(){var a=$(scrollDiv),b=a.get(0).scrollHeight-getScreenHeight();return getScrollCurrent()/b},Scroll.getScreenHeight=function(){return Resolution.getViewportDimensions().y},Scroll.preventDefault=function(a){a=a||window.event,a.preventDefault&&a.preventDefault(),a.returnValue=!1},Scroll.preventDefaultForScrollKeys=function(a){return keys[a.keyCode]?(preventDefault(a),!1):void 0},Scroll.disableScroll=function(){window.addEventListener&&window.addEventListener("DOMMouseScroll",preventDefault,!1),window.onwheel=preventDefault,window.onmousewheel=document.onmousewheel=preventDefault,window.ontouchmove=preventDefault,document.onkeydown=preventDefaultForScrollKeys},Scroll.enableScroll=function(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",preventDefault,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null},System=function(){},System.copyToClipboard=function(a){Copied=a.createTextRange(),Copied.execCommand("Copy")},System.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},Web=function(){},Web.getUrl=function(){return document.URL.toLowerCase()},Web.getUrlLanguage=function(a){document.URL.toLowerCase();return document.URL.indexOf("/fr")>=0||document.URL.indexOf("?fr")>=0?"fr":document.URL.indexOf("/en")>=0||document.URL.indexOf("?en")>=0?"en":document.URL.indexOf("/de")>=0||document.URL.indexOf("?de")>=0?"de":a},Web.getUrlParam=function(){var a=Web.getUrl(),b=a.split("/");return b=b[b.length-1].split("?"),b[b.length-1]};